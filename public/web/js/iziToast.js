!function(t,e){"function"==typeof define&&define.amd?define([],e(t)):"object"==typeof exports?module.exports=e(t):t.iziToast=e(t)}("undefined"!=typeof global?global:window||this.window||this.global,function(t){"use strict";var e={},n="iziToast",i=(document.querySelector("body"),!!/Mobi/.test(navigator.userAgent)),o=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),s="undefined"!=typeof InstallTrigger,a="ontouchstart"in document.documentElement,r=["bottomRight","bottomLeft","bottomCenter","topRight","topLeft","topCenter","center"],l={};e.children={};var d={id:null,class:"",title:"",titleColor:"",titleSize:"",titleLineHeight:"",message:"",messageColor:"",messageSize:"",messageLineHeight:"",backgroundColor:"",theme:"light",color:"",icon:"",iconText:"",iconColor:"",iconUrl:null,image:"",imageWidth:50,maxWidth:null,zindex:null,layout:1,balloon:!1,close:!0,closeOnEscape:!1,closeOnClick:!1,displayMode:0,position:"bottomRight",target:"",targetFirst:!0,timeout:5e3,rtl:!1,animateInside:!0,drag:!0,pauseOnHover:!0,resetOnHover:!1,progressBar:!0,progressBarColor:"",progressBarEasing:"linear",overlay:!1,overlayClose:!1,overlayColor:"rgba(0, 0, 0, 0.6)",transitionIn:"fadeInUp",transitionOut:"fadeOut",transitionInMobile:"fadeInUp",transitionOutMobile:"fadeOutDown",buttons:{},inputs:{},onOpening:function(){},onOpened:function(){},onClosing:function(){},onClosed:function(){}};if("remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),"function"!=typeof window.CustomEvent){var c=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n};c.prototype=window.Event.prototype,window.CustomEvent=c}var p=function(t,e,n){if("[object Object]"===Object.prototype.toString.call(t))for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(n,t[i],i,t);else if(t)for(var o=0,s=t.length;s>o;o++)e.call(n,t[o],o,t)},u=function(t,e){var n={};return p(t,function(e,i){n[i]=t[i]}),p(e,function(t,i){n[i]=e[i]}),n},g=function(t){var e=document.createDocumentFragment(),n=document.createElement("div");for(n.innerHTML=t;n.firstChild;)e.appendChild(n.firstChild);return e},m=function(t){try{return btoa(atob(t))==t}catch(e){return!1}},f={move:function(t,e,i,a){var r;0!==a&&(t.classList.add(n+"-dragged"),t.style.transform="translateX("+a+"px)",a>0?.3>(r=(180-a)/180)&&e.hide(u(i,{transitionOut:"fadeOutRight",transitionOutMobile:"fadeOutRight"}),t,"drag"):.3>(r=(180+a)/180)&&e.hide(u(i,{transitionOut:"fadeOutLeft",transitionOutMobile:"fadeOutLeft"}),t,"drag"),t.style.opacity=r,.3>r&&((o||s)&&(t.style.left=a+"px"),t.parentNode.style.opacity=.3,this.stopMoving(t,null)))},startMoving:function(t,e,n,i){i=i||window.event;var o=a?i.touches[0].clientX:i.clientX,s=t.style.transform.replace("px)",""),r=o-(s=s.replace("translateX(",""));n.transitionIn&&t.classList.remove(n.transitionIn),n.transitionInMobile&&t.classList.remove(n.transitionInMobile),t.style.transition="",a?document.ontouchmove=function(i){i.preventDefault();var o=(i=i||window.event).touches[0].clientX;f.move(t,e,n,o-r)}:document.onmousemove=function(i){i.preventDefault();var o=(i=i||window.event).clientX;f.move(t,e,n,o-r)}},stopMoving:function(t,e){a?document.ontouchmove=function(){}:document.onmousemove=function(){},t.style.opacity="",t.style.transform="",t.classList.contains(n+"-dragged")&&(t.classList.remove(n+"-dragged"),t.style.transition="transform 0.4s ease, opacity 0.4s ease",setTimeout(function(){t.style.transition=""},400))}};return e.setSetting=function(t,n,i){e.children[t][n]=i},e.getSetting=function(t,n){return e.children[t][n]},e.destroy=function(){p(document.querySelectorAll("."+n+"-overlay"),function(t,e){t.remove()}),p(document.querySelectorAll("."+n+"-wrapper"),function(t,e){t.remove()}),p(document.querySelectorAll("."+n),function(t,e){t.remove()}),this.children={},document.removeEventListener(n+"-opened",{},!1),document.removeEventListener(n+"-opening",{},!1),document.removeEventListener(n+"-closing",{},!1),document.removeEventListener(n+"-closed",{},!1),document.removeEventListener("keyup",{},!1),l={}},e.settings=function(t){e.destroy(),l=t,d=u(d,t||{})},p({info:{color:"blue",icon:"ico-info"},success:{color:"green",icon:"ico-success"},warning:{color:"orange",icon:"ico-warning"},error:{color:"red",icon:"ico-error"},question:{color:"yellow",icon:"ico-question"}},function(t,n){e[n]=function(e){var n=u(l,e||{});n=u(t,n||{}),this.show(n)}}),e.progress=function(t,e,i){var o=this,s=e.getAttribute("data-iziToast-ref"),a=u(this.children[s],t||{}),r=e.querySelector("."+n+"-progressbar div");return{start:function(){void 0===a.time.REMAINING&&(e.classList.remove(n+"-reseted"),null!==r&&(r.style.transition="width "+a.timeout+"ms "+a.progressBarEasing,r.style.width="0%"),a.time.START=(new Date).getTime(),a.time.END=a.time.START+a.timeout,a.time.TIMER=setTimeout(function(){clearTimeout(a.time.TIMER),e.classList.contains(n+"-closing")||(o.hide(a,e,"timeout"),"function"==typeof i&&i.apply(o))},a.timeout),o.setSetting(s,"time",a.time))},pause:function(){if(void 0!==a.time.START&&!e.classList.contains(n+"-paused")&&!e.classList.contains(n+"-reseted")){if(e.classList.add(n+"-paused"),a.time.REMAINING=a.time.END-(new Date).getTime(),clearTimeout(a.time.TIMER),o.setSetting(s,"time",a.time),null!==r){var t=window.getComputedStyle(r).getPropertyValue("width");r.style.transition="none",r.style.width=t}"function"==typeof i&&setTimeout(function(){i.apply(o)},10)}},resume:function(){void 0!==a.time.REMAINING?(e.classList.remove(n+"-paused"),null!==r&&(r.style.transition="width "+a.time.REMAINING+"ms "+a.progressBarEasing,r.style.width="0%"),a.time.END=(new Date).getTime()+a.time.REMAINING,a.time.TIMER=setTimeout(function(){clearTimeout(a.time.TIMER),e.classList.contains(n+"-closing")||(o.hide(a,e,"timeout"),"function"==typeof i&&i.apply(o))},a.time.REMAINING),o.setSetting(s,"time",a.time)):this.start()},reset:function(){clearTimeout(a.time.TIMER),delete a.time.REMAINING,o.setSetting(s,"time",a.time),e.classList.add(n+"-reseted"),e.classList.remove(n+"-paused"),null!==r&&(r.style.transition="none",r.style.width="100%"),"function"==typeof i&&setTimeout(function(){i.apply(o)},10)}}},e.hide=function(t,e,o){"object"!=typeof e&&(e=document.querySelector(e));var s=this,a=u(this.children[e.getAttribute("data-iziToast-ref")],t||{});a.closedBy=o||null,delete a.time.REMAINING,e.classList.add(n+"-closing"),function(){var t=document.querySelector("."+n+"-overlay");if(null!==t){var e=t.getAttribute("data-iziToast-ref"),i=(e=e.split(",")).indexOf(String(a.ref));-1!==i&&e.splice(i,1),t.setAttribute("data-iziToast-ref",e.join()),0===e.length&&(t.classList.remove("fadeIn"),t.classList.add("fadeOut"),setTimeout(function(){t.remove()},700))}}(),a.transitionIn&&e.classList.remove(a.transitionIn),a.transitionInMobile&&e.classList.remove(a.transitionInMobile),i||window.innerWidth<=568?a.transitionOutMobile&&e.classList.add(a.transitionOutMobile):a.transitionOut&&e.classList.add(a.transitionOut);var r=e.parentNode.offsetHeight;e.parentNode.style.height=r+"px",e.style.pointerEvents="none",(!i||window.innerWidth>568)&&(e.parentNode.style.transitionDelay="0.2s");try{var l=new CustomEvent(n+"-closing",{detail:a,bubbles:!0,cancelable:!0});document.dispatchEvent(l)}catch(d){console.warn(d)}setTimeout(function(){e.parentNode.style.height="0px",e.parentNode.style.overflow="",setTimeout(function(){delete s.children[a.ref],e.parentNode.remove();try{var t=new CustomEvent(n+"-closed",{detail:a,bubbles:!0,cancelable:!0});document.dispatchEvent(t)}catch(i){console.warn(i)}void 0!==a.onClosed&&a.onClosed.apply(null,[a,e,o])},1e3)},200),void 0!==a.onClosing&&a.onClosing.apply(null,[a,e,o])},e.show=function(t){var o,s,c=this,h=u(l,t||{});if((h=u(d,h)).time={},null===h.id&&(h.id=(s=h.title+h.message+h.color,btoa(encodeURIComponent(s)).replace(/=/g,""))),1===h.displayMode||"once"==h.displayMode)try{if(document.querySelectorAll("."+n+"#"+h.id).length>0)return!1}catch(v){console.warn("["+n+"] Could not find an element with this selector: #"+h.id+". Try to set an valid id.")}if(2===h.displayMode||"replace"==h.displayMode)try{p(document.querySelectorAll("."+n+"#"+h.id),function(t,e){c.hide(h,t,"replaced")})}catch(y){console.warn("["+n+"] Could not find an element with this selector: #"+h.id+". Try to set an valid id.")}h.ref=(new Date).getTime()+Math.floor(1e7*Math.random()+1),e.children[h.ref]=h;var b,$={body:document.querySelector("body"),overlay:document.createElement("div"),toast:document.createElement("div"),toastBody:document.createElement("div"),toastTexts:document.createElement("div"),toastCapsule:document.createElement("div"),cover:document.createElement("div"),buttons:document.createElement("div"),inputs:document.createElement("div"),icon:h.iconUrl?document.createElement("img"):document.createElement("i"),wrapper:null};$.toast.setAttribute("data-iziToast-ref",h.ref),$.toast.appendChild($.toastBody),$.toastCapsule.appendChild($.toast),$.toast.classList.add(n),$.toast.classList.add(n+"-opening"),$.toastCapsule.classList.add(n+"-capsule"),$.toastBody.classList.add(n+"-body"),$.toastTexts.classList.add(n+"-texts"),i||window.innerWidth<=568?h.transitionInMobile&&$.toast.classList.add(h.transitionInMobile):h.transitionIn&&$.toast.classList.add(h.transitionIn),h.class&&p(h.class.split(" "),function(t,e){$.toast.classList.add(t)}),h.id&&($.toast.id=h.id),h.rtl&&($.toast.classList.add(n+"-rtl"),$.toast.setAttribute("dir","rtl")),h.layout>1&&$.toast.classList.add(n+"-layout"+h.layout),h.balloon&&$.toast.classList.add(n+"-balloon"),h.maxWidth&&(isNaN(h.maxWidth)?$.toast.style.maxWidth=h.maxWidth:$.toast.style.maxWidth=h.maxWidth+"px"),""===h.theme&&"light"===h.theme||$.toast.classList.add(n+"-theme-"+h.theme),h.color&&("#"==(b=h.color).substring(0,1)||"rgb"==b.substring(0,3)||"hsl"==b.substring(0,3)?$.toast.style.background=h.color:$.toast.classList.add(n+"-color-"+h.color)),h.backgroundColor&&($.toast.style.background=h.backgroundColor,h.balloon&&($.toast.style.borderColor=h.backgroundColor)),h.image&&($.cover.classList.add(n+"-cover"),$.cover.style.width=h.imageWidth+"px",m(h.image.replace(/ /g,""))?$.cover.style.backgroundImage="url(data:image/png;base64,"+h.image.replace(/ /g,"")+")":$.cover.style.backgroundImage="url("+h.image+")",h.rtl?$.toastBody.style.marginRight=h.imageWidth+10+"px":$.toastBody.style.marginLeft=h.imageWidth+10+"px",$.toast.appendChild($.cover)),h.close?($.buttonClose=document.createElement("button"),$.buttonClose.type="button",$.buttonClose.classList.add(n+"-close"),$.buttonClose.addEventListener("click",function(t){t.target,c.hide(h,$.toast,"button")}),$.toast.appendChild($.buttonClose)):h.rtl?$.toast.style.paddingLeft="18px":$.toast.style.paddingRight="18px",h.progressBar&&($.progressBar=document.createElement("div"),$.progressBarDiv=document.createElement("div"),$.progressBar.classList.add(n+"-progressbar"),$.progressBarDiv.style.background=h.progressBarColor,$.progressBar.appendChild($.progressBarDiv),$.toast.appendChild($.progressBar)),h.timeout&&(h.pauseOnHover&&!h.resetOnHover&&($.toast.addEventListener("mouseenter",function(t){c.progress(h,$.toast).pause()}),$.toast.addEventListener("mouseleave",function(t){c.progress(h,$.toast).resume()})),h.resetOnHover&&($.toast.addEventListener("mouseenter",function(t){c.progress(h,$.toast).reset()}),$.toast.addEventListener("mouseleave",function(t){c.progress(h,$.toast).start()}))),h.iconUrl?($.icon.setAttribute("class",n+"-icon"),$.icon.setAttribute("src",h.iconUrl)):h.icon&&($.icon.setAttribute("class",n+"-icon "+h.icon),h.iconText&&$.icon.appendChild(document.createTextNode(h.iconText)),h.iconColor&&($.icon.style.color=h.iconColor)),(h.icon||h.iconUrl)&&(h.rtl?$.toastBody.style.paddingRight="33px":$.toastBody.style.paddingLeft="33px",$.toastBody.appendChild($.icon)),h.title.length>0&&($.strong=document.createElement("strong"),$.strong.classList.add(n+"-title"),$.strong.appendChild(g(h.title)),$.toastTexts.appendChild($.strong),h.titleColor&&($.strong.style.color=h.titleColor),h.titleSize&&(isNaN(h.titleSize)?$.strong.style.fontSize=h.titleSize:$.strong.style.fontSize=h.titleSize+"px"),h.titleLineHeight&&(isNaN(h.titleSize)?$.strong.style.lineHeight=h.titleLineHeight:$.strong.style.lineHeight=h.titleLineHeight+"px")),h.message.length>0&&($.p=document.createElement("p"),$.p.classList.add(n+"-message"),$.p.appendChild(g(h.message)),$.toastTexts.appendChild($.p),h.messageColor&&($.p.style.color=h.messageColor),h.messageSize&&(isNaN(h.titleSize)?$.p.style.fontSize=h.messageSize:$.p.style.fontSize=h.messageSize+"px"),h.messageLineHeight&&(isNaN(h.titleSize)?$.p.style.lineHeight=h.messageLineHeight:$.p.style.lineHeight=h.messageLineHeight+"px")),h.title.length>0&&h.message.length>0&&(h.rtl?$.strong.style.marginLeft="10px":2===h.layout||h.rtl||($.strong.style.marginRight="10px")),$.toastBody.appendChild($.toastTexts),h.inputs.length>0&&($.inputs.classList.add(n+"-inputs"),p(h.inputs,function(t,e){$.inputs.appendChild(g(t[0])),(o=$.inputs.childNodes)[e].classList.add(n+"-inputs-child"),t[3]&&setTimeout(function(){o[e].focus()},300),o[e].addEventListener(t[1],function(e){return(0,t[2])(c,$.toast,this,e)})}),$.toastBody.appendChild($.inputs)),h.buttons.length>0&&($.buttons.classList.add(n+"-buttons"),p(h.buttons,function(t,e){$.buttons.appendChild(g(t[0]));var i=$.buttons.childNodes;i[e].classList.add(n+"-buttons-child"),t[2]&&setTimeout(function(){i[e].focus()},300),i[e].addEventListener("click",function(e){return e.preventDefault(),(0,t[1])(c,$.toast,this,e,o)})})),$.toastBody.appendChild($.buttons),h.message.length>0&&(h.inputs.length>0||h.buttons.length>0)&&($.p.style.marginBottom="0"),(h.inputs.length>0||h.buttons.length>0)&&(h.rtl?$.toastTexts.style.marginLeft="10px":$.toastTexts.style.marginRight="10px",h.inputs.length>0&&h.buttons.length>0&&(h.rtl?$.inputs.style.marginLeft="8px":$.inputs.style.marginRight="8px")),$.toastCapsule.style.visibility="hidden",setTimeout(function(){var t=$.toast.offsetHeight,e=$.toast.currentStyle||window.getComputedStyle($.toast),n=e.marginTop;n=parseInt((n=n.split("px"))[0]);var i=e.marginBottom;i=parseInt((i=i.split("px"))[0]),$.toastCapsule.style.visibility="",$.toastCapsule.style.height=t+i+n+"px",setTimeout(function(){$.toastCapsule.style.height="auto",h.target&&($.toastCapsule.style.overflow="visible")},500),h.timeout&&c.progress(h,$.toast).start()},100),function(){var t=h.position;if(h.target)$.wrapper=document.querySelector(h.target),$.wrapper.classList.add(n+"-target"),h.targetFirst?$.wrapper.insertBefore($.toastCapsule,$.wrapper.firstChild):$.wrapper.appendChild($.toastCapsule);else{if(-1==r.indexOf(h.position))return void console.warn("["+n+"] Incorrect position.\nIt can be â€º "+r);t=i||window.innerWidth<=568?"bottomLeft"==h.position||"bottomRight"==h.position||"bottomCenter"==h.position?n+"-wrapper-bottomCenter":"topLeft"==h.position||"topRight"==h.position||"topCenter"==h.position?n+"-wrapper-topCenter":n+"-wrapper-center":n+"-wrapper-"+t,$.wrapper=document.querySelector("."+n+"-wrapper."+t),$.wrapper||($.wrapper=document.createElement("div"),$.wrapper.classList.add(n+"-wrapper"),$.wrapper.classList.add(t),document.body.appendChild($.wrapper)),"topLeft"==h.position||"topCenter"==h.position||"topRight"==h.position?$.wrapper.insertBefore($.toastCapsule,$.wrapper.firstChild):$.wrapper.appendChild($.toastCapsule)}isNaN(h.zindex)?console.warn("["+n+"] Invalid zIndex."):$.wrapper.style.zIndex=h.zindex}(),h.overlay&&(null!==document.querySelector("."+n+"-overlay.fadeIn")?($.overlay=document.querySelector("."+n+"-overlay"),$.overlay.setAttribute("data-iziToast-ref",$.overlay.getAttribute("data-iziToast-ref")+","+h.ref),isNaN(h.zindex)||null===h.zindex||($.overlay.style.zIndex=h.zindex-1)):($.overlay.classList.add(n+"-overlay"),$.overlay.classList.add("fadeIn"),$.overlay.style.background=h.overlayColor,$.overlay.setAttribute("data-iziToast-ref",h.ref),isNaN(h.zindex)||null===h.zindex||($.overlay.style.zIndex=h.zindex-1),document.querySelector("body").appendChild($.overlay)),h.overlayClose?($.overlay.removeEventListener("click",{}),$.overlay.addEventListener("click",function(t){c.hide(h,$.toast,"overlay")})):$.overlay.removeEventListener("click",{})),function(){if(h.animateInside){$.toast.classList.add(n+"-animateInside");var t=[200,100,300];"bounceInLeft"!=h.transitionIn&&"bounceInRight"!=h.transitionIn||(t=[400,200,400]),h.title.length>0&&setTimeout(function(){$.strong.classList.add("slideIn")},t[0]),h.message.length>0&&setTimeout(function(){$.p.classList.add("slideIn")},t[1]),(h.icon||h.iconUrl)&&setTimeout(function(){$.icon.classList.add("revealIn")},t[2]);var e=150;h.buttons.length>0&&$.buttons&&setTimeout(function(){p($.buttons.childNodes,function(t,n){setTimeout(function(){t.classList.add("revealIn")},e),e+=150})},h.inputs.length>0?150:0),h.inputs.length>0&&$.inputs&&(e=150,p($.inputs.childNodes,function(t,n){setTimeout(function(){t.classList.add("revealIn")},e),e+=150}))}}(),h.onOpening.apply(null,[h,$.toast]);try{var L=new CustomEvent(n+"-opening",{detail:h,bubbles:!0,cancelable:!0});document.dispatchEvent(L)}catch(C){console.warn(C)}setTimeout(function(){$.toast.classList.remove(n+"-opening"),$.toast.classList.add(n+"-opened");try{var t=new CustomEvent(n+"-opened",{detail:h,bubbles:!0,cancelable:!0});document.dispatchEvent(t)}catch(e){console.warn(e)}h.onOpened.apply(null,[h,$.toast])},1e3),h.drag&&(a?($.toast.addEventListener("touchstart",function(t){f.startMoving(this,c,h,t)},!1),$.toast.addEventListener("touchend",function(t){f.stopMoving(this,t)},!1)):($.toast.addEventListener("mousedown",function(t){t.preventDefault(),f.startMoving(this,c,h,t)},!1),$.toast.addEventListener("mouseup",function(t){t.preventDefault(),f.stopMoving(this,t)},!1))),h.closeOnEscape&&document.addEventListener("keyup",function(t){27==(t=t||window.event).keyCode&&c.hide(h,$.toast,"esc")}),h.closeOnClick&&$.toast.addEventListener("click",function(t){c.hide(h,$.toast,"toast")}),c.toast=$.toast},e});
